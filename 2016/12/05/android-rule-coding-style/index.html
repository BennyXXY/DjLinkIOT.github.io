<!doctype html><html class="theme-next pisces use-motion" lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css"><meta name="keywords" content="Android,Coding Rule,"><link rel="alternate" href="/atom.xml" title="DjLink技术博客" type="application/atom+xml"><link rel="shortcut icon" type="image/x-icon" href="http://ogl5vjc1c.bkt.clouddn.com/image/logo/djlink.png?v=5.1.0"><meta name="description" content="命名规范通用规则命名原则：尽可能的用最少的字符而又能完整的表达标识符的含义。英文缩写原则：较短的单词可通过去掉 ”元音” 形成缩写较长的单词可取单词的 头几个字母 形成缩写此外还有一些 约定俗成 的英文单词缩写一些常见的英文单词缩写："><meta property="og:type" content="article"><meta property="og:title" content="Anrdoid 编码规范"><meta property="og:url" content="https://djlinkiot.github.io/2016/12/05/android-rule-coding-style/index.html"><meta property="og:site_name" content="DjLink技术博客"><meta property="og:description" content="命名规范通用规则命名原则：尽可能的用最少的字符而又能完整的表达标识符的含义。英文缩写原则：较短的单词可通过去掉 ”元音” 形成缩写较长的单词可取单词的 头几个字母 形成缩写此外还有一些 约定俗成 的英文单词缩写一些常见的英文单词缩写："><meta property="og:updated_time" content="2016-12-22T09:16:24.474Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Anrdoid 编码规范"><meta name="twitter:description" content="命名规范通用规则命名原则：尽可能的用最少的字符而又能完整的表达标识符的含义。英文缩写原则：较短的单词可通过去掉 ”元音” 形成缩写较长的单词可取单词的 头几个字母 形成缩写此外还有一些 约定俗成 的英文单词缩写一些常见的英文单词缩写："><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Pisces",sidebar:{position:"left",display:"always"},fancybox:!0,motion:!0,duoshuo:{userId:"6352501560630576000",author:"博主"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="https://djlinkiot.github.io/2016/12/05/android-rule-coding-style/"><title>Anrdoid 编码规范 | DjLink技术博客</title></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><div class="container one-collumn sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">DjLink技术博客</span> <span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle">日积月累，精益求精</p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-categories"><a href="/categories" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class="menu-item menu-item-tags"><a href="/tags" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>标签</a></li><li class="menu-item menu-item-android"><a href="/tech/android" rel="section"><i class="menu-item-icon fa fa-fw fa-android"></i><br>Android</a></li><li class="menu-item menu-item-ios"><a href="/tech/ios" rel="section"><i class="menu-item-icon fa fa-fw fa-apple"></i><br>iOS</a></li><li class="menu-item menu-item-h5"><a href="/tech/h5" rel="section"><i class="menu-item-icon fa fa-fw fa-html5"></i><br>HTML5</a></li><li class="menu-item menu-item-cloud"><a href="/tech/cloud" rel="section"><i class="menu-item-icon fa fa-fw fa-cloud"></i><br>Cloud</a></li><li class="menu-item menu-item-workflow"><a href="/tech/workflow" rel="section"><i class="menu-item-icon fa fa-fw fa-briefcase"></i><br>WorkFlow</a></li><li class="menu-item menu-item-iot"><a href="/tech/iot" rel="section"><i class="menu-item-icon fa fa-fw fa-wifi"></i><br>IOT</a></li><li class="menu-item menu-item-about"><a href="/about" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br>关于</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class="site-search"><div class="popup"><span class="search-icon fa fa-search"></span> <input type="text" id="local-search-input"><div id="local-search-result"></div><span class="popup-btn-close">close</span></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://djlinkiot.github.io/2016/12/05/android-rule-coding-style/"><span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="鼎甲微联"><meta itemprop="description" content=""><meta itemprop="image" content="http://ogl5vjc1c.bkt.clouddn.com/image/logo/djlink.png"></span><span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="DjLink技术博客"><span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject"><img style="display:none" itemprop="url image" alt="DjLink技术博客" src=""></span></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Anrdoid 编码规范</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-12-05T09:58:47+00:00">2016-12-05 </time>&nbsp;|&nbsp; <span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">更新于</span> <time title="更新于" itemprop="dateModified" datetime="2016-12-22T09:16:24+00:00">2016-12-22 </time></span><span class="post-time">&nbsp;|&nbsp; <span class="post-meta-item-text">作者</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><span itemprop="name">EvanWang</span></span></span><span class="post-category">&nbsp; | &nbsp; <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Android/" itemprop="url" rel="index"><span itemprop="name">Android</span> </a></span>， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Android/Coding-Rule/" itemprop="url" rel="index"><span itemprop="name">Coding Rule</span> </a></span></span><span class="post-comments-count">&nbsp; | &nbsp; <a href="/2016/12/05/android-rule-coding-style/#comments" itemprop="discussionUrl"><span class="post-comments-count ds-thread-count" data-thread-key="2016/12/05/android-rule-coding-style/" itemprop="commentCount"></span> </a></span><span id="/2016/12/05/android-rule-coding-style/" class="leancloud_visitors" data-flag-title="Anrdoid 编码规范">&nbsp; | &nbsp; <span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">阅读次数 </span><span class="leancloud-visitors-count"></span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="命名规范"><a href="#命名规范" class="headerlink" title="命名规范"></a>命名规范</h1><h2 id="通用规则"><a href="#通用规则" class="headerlink" title="通用规则"></a>通用规则</h2><ul><li>命名原则：尽可能的用最少的字符而又能完整的表达标识符的含义。</li><li>英文缩写原则：<ol><li>较短的单词可通过去掉 <strong>”元音”</strong> 形成缩写</li><li>较长的单词可取单词的 <strong>头几个字母</strong> 形成缩写</li><li>此外还有一些 <strong>约定俗成</strong> 的英文单词缩写</li></ol></li><li>一些常见的英文单词缩写：</li></ul><a id="more"></a><table><thead><tr><th>名称</th><th>缩写</th><th>说明</th></tr></thead><tbody><tr><td>icon</td><td>ic</td><td>app的图标、界面中小图标</td></tr><tr><td>color</td><td>cl</td><td>颜色值</td></tr><tr><td>divider</td><td>di</td><td>分隔线，包括 Listview 中的 divider，普通布局中的线</td></tr><tr><td>selector</td><td>sl</td><td>view多种状态，包括 Listview 中的 selector，按钮的 selector</td></tr><tr><td>background</td><td>bg</td><td>背景、布局的背景</td></tr><tr><td>buffer</td><td>buf</td><td>IO缓冲区，临时缓存区</td></tr><tr><td>error</td><td>err</td><td>表示错误</td></tr><tr><td>delete</td><td>del</td><td>删除</td></tr><tr><td>control</td><td>ctrl</td><td>控制、控制器</td></tr><tr><td>escape</td><td>esc</td><td>转义、离开</td></tr><tr><td>document</td><td>doc</td><td>文档相关</td></tr><tr><td>infomation</td><td>info</td><td>代表信息、内容</td></tr><tr><td>message</td><td>msg</td><td>代表消息、通信、交互</td></tr><tr><td>image</td><td>img</td><td>代表图像</td></tr><tr><td>string</td><td>str</td><td>代表字符串</td></tr><tr><td>Internationalization</td><td>I18N</td><td>国际化</td></tr><tr><td>initial</td><td>init</td><td>用于初始化</td></tr><tr><td>increment</td><td>inc</td><td>数值的增加</td></tr><tr><td>length</td><td>len</td><td>长度</td></tr><tr><td>average</td><td>avg</td><td>平均值</td></tr><tr><td>position</td><td>pos</td><td>位置、遍历的指针</td></tr><tr><td>temp</td><td>tmp</td><td>临时、临时变量</td></tr><tr><td>password</td><td>pwd</td><td>密码</td></tr><tr><td>library</td><td>lib</td><td>库、代码库、第三方库</td></tr><tr><td>server</td><td>srv</td><td>服务器相关</td></tr><tr><td>window</td><td>wnd(win)</td><td>界面窗口</td></tr></tbody></table><h2 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h2><p>主要参考 <a href="/2016/12/05/java-rule-coding-style/" title="Java 编码规范">Java 编码规范</a>，下面是基于 <code>Android</code> 平台的一些补充。</p><h3 id="包名"><a href="#包名" class="headerlink" title="包名"></a>包名</h3><p>采用反域名命名规则，全部使用小写字母。一级包名为 <code>com</code> ，二级包名为 <code>组织</code>（可以是公司或个人），三级包名根据 <code>应用</code> 进行命名，四级包名为 <code>模块名</code> 或 <code>层级名</code><br>，后面的都是细分的 <code>次级模块名</code></p><table><thead><tr><th>包名</th><th>此包中包含</th></tr></thead><tbody><tr><td>com.xx.yy.ui</td><td>页面相关包</td></tr><tr><td>com.xx.yy.ui.activity</td><td>页面用到的Activity类</td></tr><tr><td>com.xx.yy.ui.base</td><td>页面中的基础共享类 ( <code>BaseActivity</code>、<code>BaseFragment</code>、<code>BaseAdapter</code>等 )</td></tr><tr><td>com.xx.yy.ui.adapter</td><td>页面用到的 <code>Adapter类</code> (适配器的类)</td></tr><tr><td>com.xx.yy.ui.view</td><td>自定义View类</td></tr><tr><td>com.xx.yy.utils</td><td>公共工具方法类</td></tr><tr><td>com.xx.yy.model</td><td><code>model</code> 数据模型相关包</td></tr><tr><td>com.xx.yy.model.bean</td><td><code>bean</code> 实体类</td></tr><tr><td>com.xx.yy.model.db</td><td>数据库操作类</td></tr><tr><td>com.xx.yy.app</td><td>Android组件，包括 <code>Application</code></td></tr><tr><td>com.xx.yy.app.service</td><td><code>Service</code> 服务</td></tr><tr><td>com.xx.yy.app.receiver</td><td><code>Receiver</code> 广播接收类</td></tr></tbody></table><h3 id="类名"><a href="#类名" class="headerlink" title="类名"></a>类名</h3><table><thead><tr><th>类</th><th>描述</th><th>例如</th></tr></thead><tbody><tr><td>Activity类</td><td><code>Activity</code> 为后缀</td><td>欢迎页面类 WelcomeActivity</td></tr><tr><td>Fragment类</td><td><code>Fragment</code> 为后缀</td><td>标签页面类 TabFragment</td></tr><tr><td>Adapter类</td><td><code>Adapter</code> 为后缀</td><td>新闻详情适配器 NewDetailAdapter</td></tr><tr><td>公共方法类</td><td><code>Utils</code> 或 <code>Manager</code> 为后缀</td><td>线程池管理类：ThreadPoolManager、日志工具类：LogUtils</td></tr><tr><td>数据库类</td><td><code>DBHelper</code> 为后缀</td><td>新闻数据库 NewDBHelper</td></tr><tr><td>Service类</td><td><code>Service</code> 为后缀</td><td>时间服务 TimeService</td></tr><tr><td>Receiver类</td><td><code>Receiver</code> 为后缀</td><td>时间通知 TimeReceiver</td></tr><tr><td>ContentProvider</td><td><code>Provider</code> 为后缀</td><td>AccountProvider</td></tr><tr><td>共享基础类</td><td><code>Base</code> 为前缀</td><td>BaseActivity, BaseFragment</td></tr></tbody></table><h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>initXX()</td><td>初始化相关方法,使用 <code>init</code> 为前缀标识，如初始化布局initView()</td></tr><tr><td>isXX() checkXX() hasXX()</td><td>方法返回值为 <code>boolean</code> 型的请使用 <code>is</code>、 <code>check</code> 或 <code>has</code> 为前缀标识</td></tr><tr><td>getXX()</td><td>返回某个值的方法，使用 <code>get</code> 为前缀标识</td></tr><tr><td>processXX()</td><td>对数据进行处理的方法，尽量使用 <code>process</code> 为前缀标识</td></tr><tr><td>loadXX()</td><td>通过异步加载数据的方法，尽量使用 <code>load</code> 为前缀标识</td></tr><tr><td>displayXX()</td><td>弹出提示框和提示信息，使用 <code>display</code> 为前缀标识</td></tr><tr><td>saveXX()</td><td>与保存数据相关的，使用 <code>save</code> 为前缀标识</td></tr><tr><td>resetXX()</td><td>对数据重组的，使用 <code>reset</code> 为前缀标识</td></tr><tr><td>clearXX() removeXXX()</td><td>清除数据相关的，使用 <code>clear</code> 或 <code>remove</code> 为前缀标识</td></tr><tr><td>drawXXX()</td><td>绘制数据或效果相关的，使用 <code>draw</code> 为前缀标识</td></tr><tr><td>doXX()</td><td>一些细分内部的方法，使用 <code>do</code> 为前缀标识</td></tr></tbody></table><h3 id="局部变量"><a href="#局部变量" class="headerlink" title="局部变量"></a>局部变量</h3><p>用统一的量词通过在结尾处放置一个量词，就可创建更加统一的变量，它们更容易理解，也更容易搜索。例如，请使用 <code>strCustomerFirst</code> 和 <code>strCustomerLast</code>，而不要使用 <code>strFirstCustomer</code> 和 <code>strLastCustomer</code>。</p><table><thead><tr><th>量词列表</th><th>量词后缀说明</th></tr></thead><tbody><tr><td>First</td><td>一组变量中的第一个</td></tr><tr><td>Last</td><td>一组变量中的最后一个</td></tr><tr><td>Next</td><td>一组变量中的下一个变量</td></tr><tr><td>Prev</td><td>一组变量中的上一个</td></tr><tr><td>Cur</td><td>一组变量中的当前变量</td></tr></tbody></table><h3 id="字符串常量"><a href="#字符串常量" class="headerlink" title="字符串常量"></a>字符串常量</h3><p>Android SDK中诸如 <code>SharedPreferences</code>，<code>Bundle</code> 和 <code>Intent</code> 等，都采用<strong>key-value</strong> 的方式进行赋值，当使用这些组件的时候，<strong>key</strong> 必须被 <code>static final</code> 所修饰，并且命名应该符合以下规范：</p><table><thead><tr><th>Element</th><th>Field Name Prefix</th></tr></thead><tbody><tr><td>SharedPreferences</td><td><code>PREF_</code></td></tr><tr><td>Bundle</td><td><code>BUNDLE_</code></td></tr><tr><td>Fragment Arguments</td><td><code>ARGUMENT_</code></td></tr><tr><td>Intent Extra</td><td><code>EXTRA_</code></td></tr><tr><td>Intent Action</td><td><code>ACTION_</code></td></tr></tbody></table><p>需要注意的是，当调用Fragment的 <code>getArguments()</code> 方法时，返回值同样是一个 <code>Bundle</code>，因为这也是一个常用函数，因此我们需要定义一个不同的前缀，示例如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">static</span> <span class="keyword">final</span> String PREF_EMAIL = <span class="string">"PREF_EMAIL"</span>;</div><div class="line"><span class="keyword">static</span> <span class="keyword">final</span> String BUNDLE_AGE = <span class="string">"BUNDLE_AGE"</span>;</div><div class="line"><span class="keyword">static</span> <span class="keyword">final</span> String ARGUMENT_USER_ID = <span class="string">"ARGUMENT_USER_ID"</span>;</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keyword">final</span> String EXTRA_SURNAME = <span class="string">"com.myapp.extras.EXTRA_SURNAME"</span>;</div><div class="line"><span class="keyword">static</span> <span class="keyword">final</span> String ACTION_OPEN_USER = <span class="string">"com.myapp.action.ACTION_OPEN_USER"</span>;</div></pre></td></tr></table></figure><h2 id="JNI"><a href="#JNI" class="headerlink" title="JNI"></a>JNI</h2><p>待续</p><h2 id="Resource-资源"><a href="#Resource-资源" class="headerlink" title="Resource 资源"></a>Resource 资源</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><ul><li><p>Android 系统资源结构如下：(参考 <a href="https://developer.android.google.cn/guide/topics/resources/providing-resources.html?hl=zh-cn" target="_blank" rel="external">Google官方介绍</a> )</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">res/</div><div class="line">├─ anim/      -&gt; 定义 渐变动画的 XML 文件（属性动画也可以保存在此目录中，但是为了区分这两种类型，属性动画首选 animator/ 目录）</div><div class="line">├─ animator/  -&gt; 定义 属性动画的 XML 文件</div><div class="line">├─ color/     -&gt; 用于定义 颜色状态列表的 XML 文件</div><div class="line">├─ drawable/  -&gt; 用于定义 位图文件(.png、.9.png、.jpg、.gif) 或 可编译为图像资源的 XML 文件</div><div class="line">├─ layout/    -&gt; 用于定义 界面布局的 XML 文件</div><div class="line">├─ menu/      -&gt; 用于定义 应用菜单（如选项菜单、上下文菜单或子菜单）的 XML 文件</div><div class="line">├─ mipmap/    -&gt; 适用于不同启动器图标密度的可绘制对象文件</div><div class="line">├─ raw/       -&gt; 要以 原始形式保存的任意文件</div><div class="line">├─ values/    -&gt; 包含字符串、整型数和颜色等简单值的 XML 文件</div><div class="line">└─ xml/       -&gt; 各种 XML 配置文件都必须保存在此处</div></pre></td></tr></table></figure><p><code>res/</code> 下的文件夹为 <strong>官方定义</strong> 的资源文件夹，名字不能随意更改</p></li><li><p><code>anim/</code> 下 XML资源 的结构：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">ROOT</div><div class="line">├─ <span class="tag">&lt;<span class="name">alpha</span>&gt;</span></div><div class="line">├─ <span class="tag">&lt;<span class="name">rotate</span>&gt;</span></div><div class="line">├─ <span class="tag">&lt;<span class="name">scale</span>&gt;</span></div><div class="line">├─ <span class="tag">&lt;<span class="name">translate</span>&gt;</span></div><div class="line">├─ <span class="tag">&lt;<span class="name">*Interpolator</span>&gt;</span></div><div class="line">├─ <span class="tag">&lt;<span class="name">*Animation</span>&gt;</span></div><div class="line">└─ <span class="tag">&lt;<span class="name">set</span>&gt;</span></div><div class="line">    ├─ <span class="tag">&lt;<span class="name">alpha</span>&gt;</span></div><div class="line">    ├─ <span class="tag">&lt;<span class="name">rotate</span>&gt;</span></div><div class="line">    ├─ <span class="tag">&lt;<span class="name">scale</span>&gt;</span></div><div class="line">    ├─ <span class="tag">&lt;<span class="name">translate</span>&gt;</span></div><div class="line">    └─ <span class="tag">&lt;<span class="name">set</span>&gt;</span></div></pre></td></tr></table></figure></li><li><p><code>animator/</code> 下 XML资源 的结构：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">ROOT</div><div class="line">├─ <span class="tag">&lt;<span class="name">animator</span>&gt;</span></div><div class="line">│   └─ <span class="tag">&lt;<span class="name">propertyValuesHolder</span>&gt;</span></div><div class="line">├─ <span class="tag">&lt;<span class="name">objectAnimator</span>&gt;</span></div><div class="line">│   └─ <span class="tag">&lt;<span class="name">propertyValuesHolder</span>&gt;</span></div><div class="line">├─ <span class="tag">&lt;<span class="name">selector</span>&gt;</span></div><div class="line">│   └─ <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:animation</span>=<span class="string">""</span> <span class="attr">android:state_xxx</span>=<span class="string">"true/false"</span> /&gt;</span></div><div class="line">└─ <span class="tag">&lt;<span class="name">set</span>&gt;</span></div><div class="line">    ├─ <span class="tag">&lt;<span class="name">animator</span>&gt;</span></div><div class="line">    ├─ <span class="tag">&lt;<span class="name">objectAnimator</span>&gt;</span></div><div class="line">    ├─ <span class="tag">&lt;<span class="name">propertyValuesHolder</span>&gt;</span></div><div class="line">    └─ <span class="tag">&lt;<span class="name">set</span>&gt;</span></div></pre></td></tr></table></figure></li><li><p><code>color/</code> 下 XML资源 的结构：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">ROOT</div><div class="line">└─ <span class="tag">&lt;<span class="name">selector</span>&gt;</span></div><div class="line">    └─ <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:color</span>=<span class="string">""</span> <span class="attr">android:state_xxx</span>=<span class="string">"true/false"</span> /&gt;</span></div></pre></td></tr></table></figure></li><li><p><code>drawable/</code> 下 XML资源 的结构：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">ROOT</div><div class="line">├─ <span class="tag">&lt;<span class="name">animated-rotate</span>&gt;</span></div><div class="line">│   └─ ROOT</div><div class="line">├─ <span class="tag">&lt;<span class="name">animated-selector</span>&gt;</span></div><div class="line">│   ├─ <span class="tag">&lt;<span class="name">transition</span>&gt;</span></div><div class="line">│   │   └─ <span class="tag">&lt;<span class="name">animation-list</span>&gt;</span></div><div class="line">│   └─ <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:drawable</span>=<span class="string">""</span> <span class="attr">android:state_xxx</span>=<span class="string">"true/false"</span> /&gt;</span></div><div class="line">├─ <span class="tag">&lt;<span class="name">animated-vector</span>&gt;</span></div><div class="line">│   └─ <span class="tag">&lt;<span class="name">target</span> /&gt;</span></div><div class="line">├─ <span class="tag">&lt;<span class="name">animation-list</span>&gt;</span></div><div class="line">│   └─ <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:drawable</span>=<span class="string">""</span> <span class="attr">android:duration</span>=<span class="string">""</span> /&gt;</span></div><div class="line">├─ <span class="tag">&lt;<span class="name">bitmap</span>&gt;</span> <span class="tag">&lt;<span class="name">color</span>&gt;</span> <span class="tag">&lt;<span class="name">nine-patch</span>&gt;</span></div><div class="line">├─ <span class="tag">&lt;<span class="name">clip</span>&gt;</span> <span class="tag">&lt;<span class="name">inset</span>&gt;</span> <span class="tag">&lt;<span class="name">rotate</span>&gt;</span> <span class="tag">&lt;<span class="name">scale</span>&gt;</span></div><div class="line">│   └─ ROOT</div><div class="line">├─ <span class="tag">&lt;<span class="name">layer-list</span>&gt;</span> <span class="tag">&lt;<span class="name">ripple</span>&gt;</span> <span class="tag">&lt;<span class="name">transition</span>&gt;</span></div><div class="line">│   └─ <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:drawable</span>=<span class="string">""</span> [<span class="attr">width</span>/<span class="attr">height</span>][<span class="attr">direction</span>][<span class="attr">gravity</span>] /&gt;</span></div><div class="line">├─ <span class="tag">&lt;<span class="name">level-list</span>&gt;</span></div><div class="line">│   └─ <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:drawable</span>=<span class="string">""</span> <span class="attr">android:maxLevel</span>=<span class="string">""</span> <span class="attr">android:minLevel</span>=<span class="string">""</span>/&gt;</span></div><div class="line">├─ <span class="tag">&lt;<span class="name">selector</span>&gt;</span></div><div class="line">│   └─ <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:drawable</span>=<span class="string">""</span> <span class="attr">android:state_xxx</span>=<span class="string">"true/false"</span> /&gt;</span></div><div class="line">├─ <span class="tag">&lt;<span class="name">shape</span>&gt;</span></div><div class="line">│   ├─ <span class="tag">&lt;<span class="name">corners</span> /&gt;</span></div><div class="line">│   ├─ <span class="tag">&lt;<span class="name">gradient</span> /&gt;</span></div><div class="line">│   ├─ <span class="tag">&lt;<span class="name">padding</span> /&gt;</span></div><div class="line">│   ├─ <span class="tag">&lt;<span class="name">size</span> /&gt;</span></div><div class="line">│   ├─ <span class="tag">&lt;<span class="name">solid</span> /&gt;</span></div><div class="line">│   └─ <span class="tag">&lt;<span class="name">stroke</span> /&gt;</span></div><div class="line">└─ <span class="tag">&lt;<span class="name">vector</span>&gt;</span></div><div class="line">    ├─ <span class="tag">&lt;<span class="name">clip-path</span> /&gt;</span></div><div class="line">    ├─ <span class="tag">&lt;<span class="name">path</span> /&gt;</span></div><div class="line">    └─ <span class="tag">&lt;<span class="name">group</span>&gt;</span></div><div class="line">        ├─ <span class="tag">&lt;<span class="name">clip-path</span> /&gt;</span></div><div class="line">        ├─ <span class="tag">&lt;<span class="name">path</span> /&gt;</span></div><div class="line">        └─ <span class="tag">&lt;<span class="name">group</span>&gt;</span></div></pre></td></tr></table></figure></li><li><p><code>menu/</code> 下 XML资源 的结构：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">ROOT</div><div class="line">└─ <span class="tag">&lt;<span class="name">menu</span>&gt;</span></div><div class="line">    ├─ <span class="tag">&lt;<span class="name">group</span>&gt;</span>       -&gt; menu组</div><div class="line">    │   └─ <span class="tag">&lt;<span class="name">item</span> /&gt;</span></div><div class="line">    └─ <span class="tag">&lt;<span class="name">item</span> /&gt;</span>      -&gt; menu项</div></pre></td></tr></table></figure></li><li><p><code>values/</code> 下 XML资源 的结构：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">ROOT</div><div class="line">└─ <span class="tag">&lt;<span class="name">resources</span>&gt;</span></div><div class="line">    ├─ <span class="tag">&lt;<span class="name">array</span>&gt;</span>              -&gt; 任意类型的数组（TypedArray）</div><div class="line">    ├─ <span class="tag">&lt;<span class="name">boolean</span>&gt;</span>            -&gt; 布尔值</div><div class="line">    ├─ <span class="tag">&lt;<span class="name">color</span>&gt;</span>              -&gt; 十六进制颜色值</div><div class="line">    ├─ <span class="tag">&lt;<span class="name">declare-styleable</span>&gt;</span>  -&gt; 声明自定义属性</div><div class="line">    ├─ <span class="tag">&lt;<span class="name">dimension</span>&gt;</span>          -&gt; 尺寸值</div><div class="line">    ├─ <span class="tag">&lt;<span class="name">fraction</span>&gt;</span>           -&gt; 相对比例值</div><div class="line">    ├─ <span class="tag">&lt;<span class="name">item</span> <span class="attr">type</span>=<span class="string">"id"</span>/&gt;</span>    -&gt; 预定义ID</div><div class="line">    ├─ <span class="tag">&lt;<span class="name">integer</span>&gt;</span>            -&gt; 整数值</div><div class="line">    ├─ <span class="tag">&lt;<span class="name">integer-array</span>&gt;</span>      -&gt; 整数数组</div><div class="line">    ├─ <span class="tag">&lt;<span class="name">plurals</span>&gt;</span>            -&gt; 复数字符串</div><div class="line">    ├─ <span class="tag">&lt;<span class="name">string</span>&gt;</span>             -&gt; 字符串</div><div class="line">    ├─ <span class="tag">&lt;<span class="name">string-array</span>&gt;</span>       -&gt; 字符数组</div><div class="line">    └─ <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined">              -&gt; 样式</span></div></pre></td></tr></table></figure></li><li><p>命名规则：<br>资源文件、元素应该采用 <strong>小写字母_下划线</strong>（匈牙利命名法）的组合形式命名。</p></li><li>命名空间隔离：<ul><li>资源文件、元素应该使用 <strong>范围</strong> 作为前缀，范围一般采用 <strong>模块_界面</strong></li><li>如果所开发的为 <strong>通用组件</strong>，为避免冲突，将资源目录下的文件名增加前缀，进行命名空间的隔离</li></ul></li></ul><h3 id="资源文件"><a href="#资源文件" class="headerlink" title="资源文件"></a>资源文件</h3><h4 id="Anim-Animator-动画文件"><a href="#Anim-Animator-动画文件" class="headerlink" title="Anim/Animator 动画文件"></a>Anim/Animator 动画文件</h4><ul><li>文件名：<code>动画类型_动画方向.xml</code></li></ul><table><thead><tr><th>State</th><th>Suffix</th></tr></thead><tbody><tr><td>fade_in</td><td>淡入</td></tr><tr><td>fade_out</td><td>淡出</td></tr><tr><td>push_down_in</td><td>从下方推入</td></tr><tr><td>push_down_out</td><td>从下方推出</td></tr><tr><td>push_left</td><td>推向左方</td></tr><tr><td>slide_in_from_top</td><td>从头部滑动进入</td></tr><tr><td>zoom_enter</td><td>变形进入</td></tr><tr><td>slide_in</td><td>滑动进入</td></tr><tr><td>shrink_to_middle</td><td>中间缩小</td></tr></tbody></table><ul><li>每个项目最好导入一些常用的 <code>预定义动画</code></li><li>如果要自己 <strong>定制的复杂</strong> 动画，推荐命名采用 <code>范围_动画类型</code>。<br>例如：<code>refresh_progress.xml</code>、<code>market_cart_add.xml</code>、<code>market_cart_remove.xml</code></li></ul><h4 id="Drawable-图片文件"><a href="#Drawable-图片文件" class="headerlink" title="Drawable 图片文件"></a>Drawable 图片文件</h4><ul><li>文件名：<code>[模块_]图片类型_范围_状态.[png/9.png/jpg/gif/xml]</code></li><li>图片类型：</li></ul><table><thead><tr><th>Image Type</th><th>类型</th><th>Prefix</th><th>Example</th></tr></thead><tbody><tr><td>Background</td><td>背景</td><td><code>bg_</code></td><td>bg_splash.png</td></tr><tr><td>Button</td><td>按钮</td><td><code>btn_</code></td><td>btn_send_pressed.png</td></tr><tr><td>Divider</td><td>分隔</td><td><code>div_</code></td><td>div_horizontal.png</td></tr><tr><td>Icon</td><td>图标</td><td><code>ic_</code></td><td>ic_star.png</td></tr><tr><td>Default</td><td>默认</td><td><code>def_</code></td><td>def_search_cell.png</td></tr></tbody></table><ul><li>常规 <code>icon</code>（图标）文件命名方式：</li></ul><table><thead><tr><th>Icon Type</th><th>Prefix</th><th>Example</th></tr></thead><tbody><tr><td>Icons</td><td><code>ic_</code></td><td>ic_star.png</td></tr><tr><td>Launcher icons</td><td><code>ic_launcher</code></td><td>ic_launcher_calendar.png</td></tr><tr><td>Menu icons &amp; Action Bar icons</td><td><code>ic_menu</code></td><td>ic_menu_archive.png</td></tr><tr><td>Tool bar icons</td><td><code>ic_tool_bar</code></td><td>ic_tool_bar_back.png</td></tr><tr><td>Status bar icons</td><td><code>ic_stat_bar</code></td><td>ic_stat_bar_msg.png</td></tr><tr><td>Tab icons</td><td><code>ic_tab</code></td><td>ic_tab_recent.png</td></tr><tr><td>Dialog icons</td><td><code>ic_dlg</code></td><td>ic_dlg_info.png</td></tr><tr><td>Notification icons</td><td><code>ic_notif</code></td><td>ic_notif_clock.png</td></tr></tbody></table><ul><li>状态（后缀）：</li></ul><table><thead><tr><th>State</th><th>状态</th><th>Suffix</th><th>Example</th></tr></thead><tbody><tr><td>Normal</td><td>默认</td><td><code>_normal</code></td><td>btn_order_normal.png</td></tr><tr><td>Pressed</td><td>按下</td><td><code>_pressed</code></td><td>btn_order_pressed.png</td></tr><tr><td>Focused</td><td>焦点</td><td><code>_focused</code></td><td>btn_order_focused.png</td></tr><tr><td>Disabled</td><td>不可用</td><td><code>_disabled</code></td><td>btn_order_disabled.png</td></tr><tr><td>Selected</td><td>选中</td><td><code>_selected</code></td><td>btn_order_selected.png</td></tr><tr><td>Selector</td><td>多种状态组合</td><td><code>_selector</code></td><td>btn_order_selector.png</td></tr></tbody></table><ul><li>需要注意的是，Selector 的一些状态是可以叠加的，所以可以产生 <code>btn_order_disabled_focused.9.png</code> 这类命名。</li><li>永远使用 <a href="https://github.com/inmite/android-selector-chapek" target="_blank" rel="external">android-selector-chapek</a> 这个插件来生成相应的 Selector Drawable XML 文件，而不应该手工创建。</li></ul><h4 id="Color-颜色文件"><a href="#Color-颜色文件" class="headerlink" title="Color 颜色文件"></a>Color 颜色文件</h4><ul><li>文件名：<code>[模块_]颜色类型_范围_状态.xml</code></li><li>颜色类型：<ul><li>背景颜色，添加 <code>bg</code> 前缀</li><li>文本颜色，添加 <code>txt</code> 前缀</li><li>分割线颜色，添加 <code>div</code> 前缀</li></ul></li><li>状态（后缀）：同 <code>drawable</code> 状态后缀</li></ul><h4 id="Layout-布局文件"><a href="#Layout-布局文件" class="headerlink" title="Layout 布局文件"></a>Layout 布局文件</h4><ul><li>文件名：<code>[模块_]布局类型_范围_功能.xml</code></li><li>布局类型：</li></ul><table><thead><tr><th>Layout Type</th><th>类型</th><th>Prefix</th><th>Example</th></tr></thead><tbody><tr><td>Activity</td><td>UI 基础类 Activity</td><td><code>act_</code></td><td>act_main_list.xml</td></tr><tr><td>Fragment</td><td>UI 基础类 Fragment</td><td><code>frg_</code></td><td>frg_main_detail.xml</td></tr><tr><td>Dialog</td><td>对话框 Dialog</td><td><code>dlg_</code></td><td>dlg_login_loading.xml</td></tr><tr><td>PopupWindow</td><td>弹窗 PopupWindow</td><td><code>ppw_</code></td><td>ppw_user_info.xml</td></tr><tr><td>Item</td><td>List/Grid/RecyclerView 列表项</td><td><code>item_</code></td><td>item_shop_product.xml</td></tr><tr><td>Include</td><td>layout 包含项</td><td><code>inc_</code></td><td>inc_search_head.xml</td></tr><tr><td>Header/Footer</td><td>ListView的头尾布局</td><td><code>header_</code> <code>footer_</code></td><td>header_list_products.xml</td></tr></tbody></table><h4 id="Style、Theme-文件"><a href="#Style、Theme-文件" class="headerlink" title="Style、Theme 文件"></a>Style、Theme 文件</h4><ul><li><p>应该谨慎使用<code>style</code>与<code>theme</code>，避免重复冗余的文件出现。可以有多个<code>styles.xml</code> 文件，如：<code>styles.xml</code>，<code>style_home.xml</code>，<code>style_item_details.xml</code>，<code>styles_forms.xml</code>等。</p></li><li><p><strong><code>res/values</code> 目录下的文件可以任意命名，但前提是该文件能够明确表达职责所属，因为起作用的并不是文件本身，而是内部的标签属性。</strong></p></li></ul><h4 id="Attr-文件"><a href="#Attr-文件" class="headerlink" title="Attr 文件"></a>Attr 文件</h4><ul><li>自定义属性</li></ul><h3 id="资源元素"><a href="#资源元素" class="headerlink" title="资源元素"></a>资源元素</h3><h4 id="id-布局中ID"><a href="#id-布局中ID" class="headerlink" title="id 布局中ID"></a>id 布局中ID</h4><ul><li>原生控件</li></ul><p>布局 ViewGroup</p><table><thead><tr><th>布局</th><th>缩写</th><th>含义</th></tr></thead><tbody><tr><td>ViewGroup</td><td>vg</td><td>抽象ViewGroup</td></tr><tr><td>FrameLayout</td><td>fl</td><td>帧布局</td></tr><tr><td>TLayout</td><td>fl</td><td>帧布局</td></tr><tr><td>LinearLayout</td><td>ll</td><td>线性布局</td></tr><tr><td>RelativeLayout</td><td>rl</td><td>相对布局</td></tr></tbody></table><p>控件 View</p><table><thead><tr><th>控件</th><th>缩写</th><th>含义</th><th>控件</th><th>缩写</th><th>含义</th></tr></thead><tbody><tr><td>TextView</td><td>tv</td><td>文本</td><td>SurfaceView</td><td>surface</td><td>异步视图</td></tr><tr><td>Button</td><td>btn</td><td>按钮</td><td>VideoView</td><td>video</td><td>视频视图</td></tr><tr><td>ImageButton</td><td>ib</td><td>图片按钮</td><td>WebView</td><td>web</td><td>网页视图</td></tr><tr><td>ImageView</td><td>iv</td><td>图片</td><td>SearchView</td><td>search</td><td>搜索框</td></tr><tr><td>EditText</td><td>edt</td><td>编辑框</td><td>DatePicker</td><td>datepk</td><td>日期选择器</td></tr><tr><td>CheckBox</td><td>cb</td><td>复选</td><td>TimePicker</td><td>timepk</td><td>时间选择器</td></tr><tr><td>RadioGroup</td><td>rg</td><td>单选按钮组</td><td>DigtalClock</td><td>dcl</td><td>数字时钟</td></tr><tr><td>RadioButton</td><td>rb</td><td>单选按钮</td><td>AnalogClock</td><td>acl</td><td>模拟时钟</td></tr><tr><td>ScrollView</td><td>sv</td><td>滚动页</td><td>CalendarView</td><td>cld</td><td>日历</td></tr><tr><td>ListView</td><td>lv</td><td>列表页</td><td>Chronometer</td><td>cmt</td><td>秒表</td></tr><tr><td>GridView</td><td>gv</td><td>网格页</td><td>MediaController</td><td>mdCtrl</td><td>多媒体控制</td></tr><tr><td>ExpandableListView</td><td>elv</td><td>可扩展列表页</td><td>ZoomControls</td><td>zmCtrl</td><td>放大缩小框</td></tr><tr><td>ToggleButton</td><td>tgb</td><td>切换按钮</td><td>TextSwitch</td><td>txtSwt</td><td>文字切换器</td></tr><tr><td>SeekBar</td><td>seek</td><td>双向进度条</td><td>ImageSwitch</td><td>imgSwt</td><td>图片切换器</td></tr><tr><td>ProgressBar</td><td>pgb</td><td>进度条</td><td>RatingBar</td><td>ratb</td><td>评分条</td></tr><tr><td>TableRow</td><td>tr</td><td>标签列</td><td>MapView</td><td>map</td><td>地图视图</td></tr><tr><td>TabHost</td><td>tab</td><td>标签页</td><td>SlidingDrawer</td><td>滑动抽屉</td></tr><tr><td>Spinner</td><td>spn</td><td>下拉框</td></tr></tbody></table><ul><li>官方补充控件</li></ul><p>布局 ViewGroup</p><table><thead><tr><th>控件</th><th>缩写</th><th>包</th><th>含义</th></tr></thead><tbody><tr><td>GridLayout</td><td>gl</td><td>support-v7</td><td>网格布局</td></tr><tr><td>TabLayout</td><td>tl</td><td>support-v7</td><td>Tab布局</td></tr><tr><td>ConstraintLayout</td><td>cl</td><td>constraint</td><td>约束布局</td></tr><tr><td>PercentFrameLayout</td><td>pfl</td><td>percent</td><td>比例帧布局</td></tr><tr><td>PercentRelativeLayout</td><td>prl</td><td>percent</td><td>比例相对布局</td></tr></tbody></table><p>组件 View</p><table><thead><tr><th>控件</th><th>缩写</th><th>包</th><th>含义</th></tr></thead><tbody><tr><td>ViewPager</td><td>vp</td><td>support-v4</td><td>左右滑动页</td></tr><tr><td>RecyclerView</td><td>rv</td><td>support-v7</td><td>可复用的列表页</td></tr></tbody></table><h4 id="color-色值"><a href="#color-色值" class="headerlink" title="color 色值"></a>color 色值</h4><p><code>colors.xml</code> 文件就像个“调色板”，只映射颜色的ARGB值，不应该存在其他类型的数值，更不要使用它为不同的按钮来定义ARGB值。</p><p><strong>不建议</strong> 使用以下命名规则：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"button_foreground"</span>&gt;</span>#FFFFFF<span class="tag">&lt;/<span class="name">color</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"button_background"</span>&gt;</span>#2A91BD<span class="tag">&lt;/<span class="name">color</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"comment_background_inactive"</span>&gt;</span>#5F5F5F<span class="tag">&lt;/<span class="name">color</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"comment_background_active"</span>&gt;</span>#939393<span class="tag">&lt;/<span class="name">color</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"comment_foreground"</span>&gt;</span>#FFFFFF<span class="tag">&lt;/<span class="name">color</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"comment_foreground_important"</span>&gt;</span>#FF9D2F<span class="tag">&lt;/<span class="name">color</span>&gt;</span></div><div class="line">  ...</div><div class="line">  <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"comment_shadow"</span>&gt;</span>#323232<span class="tag">&lt;/<span class="name">color</span>&gt;</span></div></pre></td></tr></table></figure><p>使用这种定义方式，我们需要非常的谨慎，一不小心就会重复定义ARGB值，而且当改变基本色时，会造成很多冗余重复的操作。</p><p>相反地，我们应该根据颜色或者风格对ARGB赋值：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="comment">&lt;!-- grayscale --&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"white"</span>     &gt;</span>#FFFFFF<span class="tag">&lt;/<span class="name">color</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"gray_light"</span>&gt;</span>#DBDBDB<span class="tag">&lt;/<span class="name">color</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"gray"</span>      &gt;</span>#939393<span class="tag">&lt;/<span class="name">color</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"gray_dark"</span> &gt;</span>#5F5F5F<span class="tag">&lt;/<span class="name">color</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"black"</span>     &gt;</span>#323232<span class="tag">&lt;/<span class="name">color</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="comment">&lt;!-- basic colors --&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"green"</span>     &gt;</span>#27D34D<span class="tag">&lt;/<span class="name">color</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"blue"</span>      &gt;</span>#2A91BD<span class="tag">&lt;/<span class="name">color</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"orange"</span>    &gt;</span>#FF9D2F<span class="tag">&lt;/<span class="name">color</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"red"</span>       &gt;</span>#FF432F<span class="tag">&lt;/<span class="name">color</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></div></pre></td></tr></table></figure><p>对 <strong>同一色调，不同色域</strong> 进行定义时，像 <code>brand_primary</code>、<code>brand_secondary</code>、 <code>brand_negative</code> 这样的命名也是不错的选择。</p><p>这样规范的颜色很容易修改或重构，App一共使用了多少种不同的颜色变会得非常清晰。</p><h4 id="dimen-尺寸"><a href="#dimen-尺寸" class="headerlink" title="dimen 尺寸"></a>dimen 尺寸</h4><p>我们应该像对待 <code>colors.xml</code> 一样对待 <code>dimens.xml</code> 文件，与定义颜色调色板无异，也应该定义一个规范字体大小的 “字号板”。</p><p>一个很好的建议：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="comment">&lt;!-- font sizes --&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"font_larger"</span>&gt;</span>22sp<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"font_large"</span>&gt;</span>18sp<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"font_normal"</span>&gt;</span>15sp<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"font_small"</span>&gt;</span>12sp<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="comment">&lt;!-- typical spacing between two views --&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"spacing_huge"</span>&gt;</span>40dp<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"spacing_large"</span>&gt;</span>24dp<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"spacing_normal"</span>&gt;</span>14dp<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"spacing_small"</span>&gt;</span>10dp<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"spacing_tiny"</span>&gt;</span>4dp<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="comment">&lt;!-- typical sizes of views --&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"button_height_tall"</span>&gt;</span>60dp<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"button_height_normal"</span>&gt;</span>40dp<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"button_height_short"</span>&gt;</span>32dp<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></div></pre></td></tr></table></figure><p>同样的，在定义 <code>margin</code> 和 <code>padding</code> 时，可以使用 <code>spacing_****</code> 作为前缀对其命名，而不是像对待 <code>String</code> 字符串那样直接写值。</p><p>这样写的好处是，使组织结构和修改风格甚至布局变得非常容易。</p><h4 id="style-样式"><a href="#style-样式" class="headerlink" title="style 样式"></a>style 样式</h4><ul><li><p>Style 与 Theme 的命名统一使用 <strong>驼峰命名法</strong>（首字母大写）</p></li><li><p>几乎每个项目都需要适当的使用 Style 文件，因为对于一个视图来说有一个重复的外观是很常见的。在应用中对于大多数文本内容，最起码你应该有一个<code>通用的 Style 文件</code>，例如：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">"ContentText"</span>&gt;</span><span class="xml"></span></div><div class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"android:textSize"</span>&gt;</span>@dimen/font_normal<span class="tag">&lt;/<span class="name">item</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"android:textColor"</span>&gt;</span>@color/basic_black<span class="tag">&lt;/<span class="name">item</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div></pre></td></tr></table></figure><p>应用到 TextView 中:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">TextView</span></span></div><div class="line">    <span class="attr">style</span>=<span class="string">"@style/ContentText"</span></div><div class="line">    <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></div><div class="line">    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></div><div class="line">    <span class="attr">android:text</span>=<span class="string">"@string/price"</span></div><div class="line">    /&gt;</div></pre></td></tr></table></figure></li></ul><h4 id="string-文字"><a href="#string-文字" class="headerlink" title="string 文字"></a>string 文字</h4><ul><li>命名：<code>类型_[范围_]功能</code></li></ul><p>以下为几种常用的命名：</p><table><thead><tr><th>控件</th><th>缩写</th></tr></thead><tbody><tr><td>页面标题</td><td>title_页面</td></tr><tr><td>按钮文字</td><td>btn_按钮事件</td></tr><tr><td>标签文字</td><td>label_标签文字</td></tr><tr><td>选项卡文字</td><td>tab_选项卡文字</td></tr><tr><td>消息框文字</td><td>toast_消息</td></tr><tr><td>编辑框的提示文字</td><td>hint_提示信息</td></tr><tr><td>图片的描述文字</td><td>desc_图片文字</td></tr><tr><td>对话框文字</td><td>dialog_文字</td></tr><tr><td>menu的item文字</td><td>action_文字</td></tr></tbody></table><ul><li><p>String命名的前缀应该能够清楚地表达它的功能职责，如，<code>registration_email_hint</code>，<code>registration_name_hint</code></p></li><li><p>如果一个Sting不属于任何模块，这也就意味着它是通用的，应该遵循以下规范：</p></li></ul><table><thead><tr><th>Prefix</th><th>Description</th></tr></thead><tbody><tr><td><code>error_</code></td><td>错误提示</td></tr><tr><td><code>msg_</code></td><td>一般信息提示</td></tr><tr><td><code>title_</code></td><td>标题提示，如，Dialog标题</td></tr><tr><td><code>action_</code></td><td>动作提示，如，“保存”，“取消”，“创建”</td></tr></tbody></table><h1 id="最佳实践"><a href="#最佳实践" class="headerlink" title="最佳实践"></a>最佳实践</h1><h2 id="编码相关"><a href="#编码相关" class="headerlink" title="编码相关"></a>编码相关</h2><h3 id="常规"><a href="#常规" class="headerlink" title="常规"></a>常规</h3><h4 id="方法函数中的参数排序规范"><a href="#方法函数中的参数排序规范" class="headerlink" title="方法函数中的参数排序规范"></a>方法函数中的参数排序规范</h4><p>在Android日常开发中，很多情况下都需要使用 <code>Context</code>，所以经常被作为参数传入方法中，这里给出的建议是，如果函数签名中存在 <code>Context</code>，则作为第一个参数，如果存在 <code>Callback</code> 则作为最后一个参数，示例如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">loadUserAsync</span><span class="params">(Context context, <span class="keyword">int</span> userId, UserCallback callback)</span></span>;</div></pre></td></tr></table></figure><h3 id="Activity-Fragment-相关"><a href="#Activity-Fragment-相关" class="headerlink" title="Activity Fragment 相关"></a>Activity Fragment 相关</h3><h4 id="BaseActivity-BaseFragment"><a href="#BaseActivity-BaseFragment" class="headerlink" title="BaseActivity BaseFragment"></a>BaseActivity BaseFragment</h4><ul><li>每个 <code>Activity</code>，<code>Fragment</code> 都要对应继承 <code>BaseActivity</code>，<code>BaseFragment</code>（放在目录 <code>com.xx.yy.ui.base</code> 下）</li><li><code>BaseActivity</code> 统一继承 <code>support-v7</code> 中的 <code>AppCompatActivity</code>。</li><li><code>BaseFragment</code> 统一继承 <code>support-v4</code> 中的 <code>Fragment</code></li><li>如果项目中引用 <code>RxJava</code>，建议继承 <a href="https://github.com/trello/RxLifecycle" target="_blank" rel="external">RxLifecycle</a> 中的 <code>RxAppCompatActivity</code> 和 <code>RxFragment</code></li><li>Activity <code>Theme</code> 统一继承 <code>Theme.AppCompat[.Light].NoActionBar</code></li></ul><h4 id="生命周期排序"><a href="#生命周期排序" class="headerlink" title="生命周期排序"></a>生命周期排序</h4><p>Activity或者Fragment，重写生命周期函数时，应该按照组件的生命周期进行排序，如：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">()</span> </span>&#123;&#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onResume</span><span class="params">()</span> </span>&#123;&#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onPause</span><span class="params">()</span> </span>&#123;&#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onDestroy</span><span class="params">()</span> </span>&#123;&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h4 id="Activity-和-Fragment-打开方式"><a href="#Activity-和-Fragment-打开方式" class="headerlink" title="Activity 和 Fragment 打开方式"></a>Activity 和 Fragment 打开方式</h4><p>当通过 <code>Intent</code> 或者 <code>Bundle</code> 向 <code>Activity</code> 与 <code>Fragment</code> 传值时，应该遵循上面提到的 <code>key-value</code> 规范，公开一个被 <code>public static</code> 修饰的方法，方法的参数应该包含所有打开这个 <code>Activity</code> 或者 <code>Fragment</code> 的信息，示例如下：</p><ul><li>通过 <code>.startActivity()</code> 函数，开启指定 <strong>Activity</strong>。</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">startActivity</span><span class="params">(AppCompatActivity startingActivity, User user)</span> </span>&#123;</div><div class="line">    Intent intent = <span class="keyword">new</span> Intent(startingActivity, ThisActivity.class);</div><div class="line">    intent.putParcelableExtra(EXTRA_USER, user);</div><div class="line">    startingActivity.startActivity(intent);</div><div class="line">  &#125;</div></pre></td></tr></table></figure><ul><li>通过 <code>.newInstance()</code> 函数，加载指定 <code>Fragment</code>。</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> UserFragment <span class="title">newInstance</span><span class="params">(User user)</span> </span>&#123;</div><div class="line">  UserFragment fragment = <span class="keyword">new</span> UserFragment;</div><div class="line">  Bundle args = <span class="keyword">new</span> Bundle();</div><div class="line">  args.putParcelable(ARGUMENT_USER, user);</div><div class="line">  fragment.setArguments(args)</div><div class="line">  <span class="keyword">return</span> fragment;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>需要注意一下两点：</p><ol><li>以上这些方法应该放在类的开头，至少应该放在 <code>onCreate()</code> 之前。</li><li>如 <code>EXTRA_USER</code>，<code>ARGUMENT_USER</code> 等常量 <code>key</code>，应该放在本类中被<code>private</code> 所修饰，不应该暴露给其它外部类。</li></ol><h3 id="Log"><a href="#Log" class="headerlink" title="Log"></a>Log</h3><h4 id="Log-输出规范"><a href="#Log-输出规范" class="headerlink" title="Log 输出规范"></a>Log 输出规范</h4><p>使用 Log 类打印一些重要的信息对开发者而言是很重要的事情，切记不要使用 Toast 来做信息打印。</p><p><code>VERBOSE</code> 和 <code>DEBUG</code> 类型的 Log 不应该出现在 <code>Release</code> 版本中，<code>INFORMATION</code>、<code>WARNING</code> 和 <code>ERROR</code> 类型的 Log 可以留下来，因为这些信息的输出能够帮助我们快速地定位问题所在，当然前提是，需要隐藏重要的信息输出，如：用户手机号，邮箱等。</p><p>只在 Debug 环境中输出日志的小技巧：</p><blockquote><p>if (BuildConfig.DEBUG) Log.d(TAG, “The value of x is “ + x)</p></blockquote><h3 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h3><ul><li>除非确实有必要，否则不要盲目的引入数据库支持。这一点笔者也是赞同的，很多时候简单的缓存可以用 <code>SharedReference</code> 就可以了。不过反过来，如果你真的有一定的需要持久化的数据，不要犹豫，立马引入数据库的支持</li><li>如果引入了DB支持，那考虑使用 <code>ORM框架</code> 的支持，避免重复造轮子</li><li>关于 <code>Realm</code> ，这是一个很炫的东西，但是笔者自己老实说在Android和iOS平台引入之后，发现还是会存在一些问题Abderrazak Laanaya对Realm是持积极态度而Stepan Goncharov是保守态度。笔者自己的感觉是Realm确实很酷，但是一定要做好其引发未知Crash的心理准备</li></ul><h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><ul><li>使用 <code>AccountManager</code> 来建议登录名与Email地址等</li></ul><h3 id="权限相关"><a href="#权限相关" class="headerlink" title="权限相关"></a>权限相关</h3><h2 id="Resource"><a href="#Resource" class="headerlink" title="Resource"></a>Resource</h2><h3 id="XML属性排序"><a href="#XML属性排序" class="headerlink" title="XML属性排序"></a>XML属性排序</h3><p>对于如何排版一个布局文件，请尽量遵循以下规范：</p><ul><li>每个属性独占一行，缩进四个空格</li><li><code>android:id</code> 作为第一个属性存在</li><li>如果存在 <code>style</code> 属性，则紧随 <code>id</code> 之后</li><li>如果不存在 <code>style</code> 属性，则 <code>android:layout_****</code> 紧随 <code>id</code> 之后</li><li>当布局中的一个元素不再包含子元素时，另起一行，使用自闭合标签 <code>/&gt;</code>，方便调整和添加新的属性</li></ul><p>示例如下：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</div><div class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></div><div class="line">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></div><div class="line">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></div><div class="line">    <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></div><div class="line">    &gt;</div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></div><div class="line">        <span class="attr">android:id</span>=<span class="string">"@+id/name"</span></div><div class="line">        <span class="attr">style</span>=<span class="string">"@style/FancyText"</span></div><div class="line">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></div><div class="line">        <span class="attr">android:layout_alignParentRight</span>=<span class="string">"true"</span></div><div class="line">        <span class="attr">android:text</span>=<span class="string">"@string/name"</span></div><div class="line">        /&gt;</div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">layout</span>=<span class="string">"@layout/reusable_part"</span> /&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></div></pre></td></tr></table></figure><h3 id="Drawable"><a href="#Drawable" class="headerlink" title="Drawable"></a>Drawable</h3><ul><li>可拉伸，尤其带圆角的图片，都要用 <code>.9.png</code> 处理</li><li>图片尽量分拆成多个可重用的图片</li><li>多使用 <code>layer-list</code> 和 <code>selector</code></li></ul><h3 id="Dimen"><a href="#Dimen" class="headerlink" title="Dimen"></a>Dimen</h3><ul><li>文字大小的单位统一用 <code>sp</code>，元素大小的单位统一用 <code>dp</code></li></ul><h3 id="Anim"><a href="#Anim" class="headerlink" title="Anim"></a>Anim</h3><ul><li>使用 <code>animation-list</code> 制作动画效果</li></ul><h3 id="Color"><a href="#Color" class="headerlink" title="Color"></a>Color</h3><ul><li>颜色值统一在 <code>colors.xml</code> 中定义，然后在代码和布局文件中引用。</li><li>不要在代码和布局文件中引用系统的颜色，除了透明。</li></ul><h3 id="String"><a href="#String" class="headerlink" title="String"></a>String</h3><ul><li>应用中的字符串统一在 <code>strings.xml</code> 中定义，然后在代码和布局文件中引用</li><li><code>strings.xml</code> 中使用 <code>%1$s</code> 实现字符串的通配</li></ul><h3 id="Style"><a href="#Style" class="headerlink" title="Style"></a>Style</h3><ul><li>使用 <code>styles</code>，复用样式定义，来减少布局 XML 中的重复属性</li><li><p>值得一提的是，<code>android:layout_****</code> 属性应该在XML中定义，同时其它属性 <code>android:****</code> 应放在 <code>style</code> 中。核心准则是保证<code>Layout属性</code> ( position, margin, size等 )和 <code>content属性</code> 在布局文件中，同时将所有的外观细节属性（color, padding, font）放在style文件中。</p></li><li><p>另外，在上面提到的准则中，有以下几点需要注意：</p><ul><li><code>android:id</code> 明显应该在layout文件中</li><li>Layout文件中的 <code>android:orientation</code> 属性对于一个 <code>LinearLayout</code> 布局来说，更具有意义</li><li>由于使用 <code>android:text</code> 定义内容，所以这个属性应该放在Layout文件中</li><li>有时候将 <code>android:layout_width</code> 和 <code>android:layout_height</code> 属性放到一个 <code>style.xml</code> 中作为一个通用的风格更有意义，但是默认情况下把这些属性放到Layout文件中比放到 <code>style.xml</code> 文件中更加直观。</li></ul></li></ul><h3 id="Layout"><a href="#Layout" class="headerlink" title="Layout"></a>Layout</h3><ul><li>Layout结构优化方面，应尽量避免深层次的布局嵌套，这不仅会引发性能瓶颈，还会带来项目维护上的麻烦。在书写布局之前应该对ViewTree充分的分析，善用 <a href="http://stackoverflow.com/questions/8834898/what-is-the-purpose-of-androids-merge-tag-in-xml-layouts" target="_blank" rel="external"><code>&lt;merge&gt;</code>标签</a> 减少层级嵌套，或者使用 <a href="http://developer.android.com/intl/zh-cn/tools/help/hierarchy-viewer.html" target="_blank" rel="external">Hierarchy Viewer</a> 等UI优化工具对Layout进行分析与优化。可参考 <a href="http://developer.android.com/intl/zh-cn/tools/debugging/debugging-ui.html" target="_blank" rel="external">Optimizing Your UI</a> 与 <a href="http://developer.android.com/intl/zh-cn/training/improving-layouts/optimizing-layout.html" target="_blank" rel="external">Optimizing Layout Hierarchies</a>。</li></ul><h3 id="Designtime-Attributes（tools-标签）"><a href="#Designtime-Attributes（tools-标签）" class="headerlink" title="Designtime Attributes（tools 标签）"></a>Designtime Attributes（tools 标签）</h3><ul><li><p>布局预览应使用 <code>tools:xxx</code> 相关属性，避免 <code>android:text</code> 等硬编码的出现，具体可参考 <a href="http://tools.android.com/tips/layout-designtime-attributes" target="_blank" rel="external">Designtime Attributes</a></p><p>示例如下：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">TextView</span></span></div><div class="line">    <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></div><div class="line">    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></div><div class="line">    <span class="attr">tools:text</span>=<span class="string">"Home Link"</span></div><div class="line">    /&gt;</div></pre></td></tr></table></figure></li><li><p>关于<code>tools:xxx</code> 相关属性的 <a href="https://developer.android.com/studio/write/tool-attributes.html" target="_blank" rel="external">官方介绍</a></p></li></ul><h2 id="开发、构建与测试"><a href="#开发、构建与测试" class="headerlink" title="开发、构建与测试"></a>开发、构建与测试</h2><h3 id="Build"><a href="#Build" class="headerlink" title="Build"></a>Build</h3><ul><li>现在的应用程序很容易突破 <code>65K</code> 的方法数量的限制，<code>Multidexing</code> 可以帮你解决这个问题</li><li>应该按照 <code>Feature</code> 打包，而不应该按照 <code>Layers</code> 打包</li><li>开发的时候设置 <code>minSdkVersion=21</code>，这样可以加速编译时间，特别是在设置了 <code>Multidexing</code> 的时候</li></ul><h3 id="Debug"><a href="#Debug" class="headerlink" title="Debug"></a>Debug</h3><ul><li>使用 Facebook 的 <a href="http://facebook.github.io/stetho/" target="_blank" rel="external">Stetho</a> 来方便调试应用</li></ul><h3 id="Gradle"><a href="#Gradle" class="headerlink" title="Gradle"></a>Gradle</h3><ul><li>将密码以及其他关键数据放置到 <code>gradle.properties</code> 中</li><li><p>使用Maven依赖代替jar包导入</p><p>如果在项目中明确使用jar文件，那么它们可能成为永久的版本，如<code>2.1.1</code>。而且很容易陷入频繁更新jar包的繁琐工作中，Maven很好的解决了这个问题，这也是 Gradle构建中推荐的方法。你可以指定版本的一个范围，如<code>2.1.+</code>,然后Maven会自动升级到制定的最新版本，例如：</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">dependencies &#123;</div><div class="line">      <span class="comment">/*ReactiveX Library*/</span></div><div class="line">      compile <span class="string">'io.reactivex:rxjava:1.1.3'</span></div><div class="line">      compile <span class="string">'io.reactivex:rxandroid:1.1.0'</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></li><li><p>签名配置</p><p>发布release版本的时候，应该做好 <strong>SigningConfigs</strong> 的保密性：</p><p>不要这样做，这种做法非常的不安全：</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">signingConfigs &#123;</div><div class="line">  release &#123;</div><div class="line">    storeFile file(<span class="string">"myapp.keystore"</span>)</div><div class="line">    storePassword <span class="string">"storePassword"</span></div><div class="line">    keyAlias <span class="string">"storeKey"</span></div><div class="line">    keyPassword <span class="string">"keyPassword"</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>而是，建立一个不加入版本控制系统的<code>gradle.properties</code>文件，或者在本地的<code>local.properties</code>中记录。</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">KEYSTORE_PASSWORD=storePassword</div><div class="line">KEY_PASSWORD=keyPassword</div></pre></td></tr></table></figure><p>那个文件会被gradle自动引入，因此可以在<code>buld.gradle</code>文件中使用，例如：</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">signingConfigs &#123;</div><div class="line">  release &#123;</div><div class="line">    <span class="keyword">try</span> &#123;</div><div class="line">      storeFile file(<span class="string">"myapp.keystore"</span>)</div><div class="line">      storePassword KEYSTORE_PASSWORD</div><div class="line">      keyAlias <span class="string">"storeKey"</span></div><div class="line">      keyPassword KEY_PASSWORD</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">catch</span> (ex) &#123;</div><div class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> InvalidUserDataException(<span class="string">"You should define KEYSTORE_PASSWORD and KEY_PASSWORD in gradle.properties."</span>)</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></li></ul><h3 id="Check"><a href="#Check" class="headerlink" title="Check"></a>Check</h3><ul><li>在CI工具里添加些 <a href="http://www.sonarqube.org/" target="_blank" rel="external">静态的代码分析工具</a></li></ul><h3 id="Log-日志"><a href="#Log-日志" class="headerlink" title="Log 日志"></a>Log 日志</h3><ul><li>Log(系统名称模块名称接口名称，详细描述)</li><li>使用如下的表达式来过滤日志：<blockquote><p>^(?!(NotificationManager|Timeline|SensorManager|Configs|libc-netbsd|art|stetho|Choreographer|CliptrayUtils|BubblePopupHelper|ViewRootImpl|libEGL|System.out|PhoneWindow))</p></blockquote></li></ul><h2 id="组件化"><a href="#组件化" class="headerlink" title="组件化"></a>组件化</h2><ul><li><p>将应用分为多个较小灵活地模块中，这样可以尽量保证可维护性较好、耦合度较低的CodeBase，也可以选择将小的模块发布到公开或者私有的仓库中，然后在主项目中引入。</p></li><li><p>引入 <code>Dagger2</code> 减少模块之间的耦合性。Dagger2 是一个依赖注入框架，使用代码自动生成创建依赖关系需要的代码。减少很多模板化的代码，更易于测试，降低耦合，创建可复用可互换的模块。参考之前的文章 <a href="http://www.jianshu.com/p/01d3c014b0b1" target="_blank" rel="external">Google官方MVP + Dagger2架构详解</a></p></li></ul><h3 id="第三方库"><a href="#第三方库" class="headerlink" title="第三方库"></a>第三方库</h3><ul><li>使用任何的第三方库之前都要三思而行，从笔者自己的经验里，<code>抽象漏洞定理</code> 是一个颠仆不破的定理啊。虽然很多库宣扬的都是非常Nice，Demo也很诱人，但是你压根不知道它到底会带来怎样的 <code>Side Effect</code>。笔者是建议如果真的打算应用某个库到正式的大型项目中，一定要好好考量下它的社区和活跃度。以后流的泪，都是当时脑子进的水。</li><li>引用第三方库要慎重，避免应用大容量的第三方库，导致客户端包非常大。尽量使用那些较小的，往往只是完成单个功能的库，将来比较好替换</li><li>可以添加多一层 <code>Lib</code> 层，用来对大多数第三方库进行一层包裹 <code>Wrap</code>，方便日后更换或拓展 （<a href="http://www.jianshu.com/p/e26130a93289" target="_blank" rel="external">参考 ImageLoader 的封装</a>）</li><li>不要使用 Google 的 <code>Guava</code></li></ul><h2 id="性能优化"><a href="#性能优化" class="headerlink" title="性能优化"></a>性能优化</h2><h3 id="内存优化"><a href="#内存优化" class="headerlink" title="内存优化"></a>内存优化</h3><ul><li>尽量避免 <code>static</code> 成员变量引用资源耗费过多的实例,比如 <code>Context</code></li><li>线程也是造成内存泄露的一个重要的源头。线程产生内存泄露的主要原因在于线程生命周期的不可控。</li><li>使用 <code>WeakReference</code> 代替强引用，弱引用可以让您保持对对象的引用，同时允许 GC 在必要时释放对象，回收内存。对于那些创建便宜但耗费大量内存的对象，即希望保持该对象，又要在应用程序需要时使用，同时希望 GC 必要时回收时，可以考虑使用弱引用。</li><li>保证 <code>Cursor</code> 占用的内存被及时的释放掉，而不是等待 GC 来处理。并且 Android 明显是倾向于编程者手动的将 <code>Cursor</code> 手动 <code>close</code> 掉</li><li>在应用程序中要注意避免 <code>Memory Leaks</code>，不过 <code>onLowMemory()</code> 是会在整个系统的内存较低的情况下被触发，因此不能用于避免 OOM</li></ul><h3 id="图片优化"><a href="#图片优化" class="headerlink" title="图片优化"></a>图片优化</h3><ul><li>超级大胖子 <code>Bitmap</code> 及时的销毁 ( Activity的onDestroy时，将bitmap回收 ) 设置一定的 <code>采样率</code>，巧妙的运用软引用 drawable对应resid的资源，bitmap对应其他资源。</li></ul><h3 id="网络优化"><a href="#网络优化" class="headerlink" title="网络优化"></a>网络优化</h3><ul><li>HTTP 用 <code>gzip</code> 压缩，设置连接超时时间和响应超时时间</li><li>HTTP 请求按照业务需求，分为是否可以缓存和不可缓存，那么在无网络的环境中，仍然通过缓存的 HTTP <code>response</code> 浏览部分数据，实现离线阅读。</li><li>不要尝试着重复造轮子，可以使用 <code>Volley</code> 或者 <code>OkHTTP</code>，可以考虑使用 <code>Retrofit</code> 作为上层封装</li><li>记得监控当前连接类型，在 <code>WiFi</code> 下进行较大量的数据更新</li></ul><h3 id="异步优化"><a href="#异步优化" class="headerlink" title="异步优化"></a>异步优化</h3><ul><li>使用 <code>线程池</code>，分为核心线程池和普通线程池，下载图片等耗时任务放置在普通线程池，避免耗时任务阻塞线程池后，导致所有异步任务都必须等待</li><li>使用 <code>RxJava</code> 来代替 <code>AsyncTasks</code>，不过对于 <code>RetroLambda</code> 的使用还是持保留意见</li><li>对于 <code>EventBus</code> 的使用持谨慎态度，一不小心就可能把你的程序变得有些杂乱，可以考虑使用 <code>RxJava + LocalBroadcastManager</code> 作为替代</li><li>不要把太多东西塞入到 <code>Application线程</code> 中</li><li>使用 <code>JobScheduler</code> 来处理长期周期化运行的无状态任务</li></ul><h3 id="电量优化"><a href="#电量优化" class="headerlink" title="电量优化"></a>电量优化</h3><ul><li>系统的30%的电量消耗用在了图片、动画等，而70%用于分析、广告、地图以及GPS</li></ul><h3 id="序列化"><a href="#序列化" class="headerlink" title="序列化"></a>序列化</h3><ul><li>使用 <code>Parcel</code> 在 Android 中引入 <code>AutoValue</code>。</li><li>尽量少用 <code>Serializable</code>：<code>Serializable</code> 虽然方便使用，但是效率低下。使用 <code>Parcel</code> 或者 <code>FlatBuffers</code>（一个高效地跨平台序列化框架）</li></ul><h2 id="UI优化"><a href="#UI优化" class="headerlink" title="UI优化"></a>UI优化</h2><ul><li>使用 <code>Lint</code> 来辅助进行布局与层次优化，这样有助于发现冗余的布局</li><li><code>软键盘</code> 的弹出控制，不要让其覆盖输入框</li><li><code>Launch Screen</code> 是用户看到的第一个画面，要谨慎，不过也不能在没必要的时候强行加入一个Launch Screen</li><li>使用 <a href="https://developer.android.com/topic/libraries/data-binding/index.html" target="_blank" rel="external">DataBinding</a> 来减少UI代码的数目</li></ul><h3 id="适配优化"><a href="#适配优化" class="headerlink" title="适配优化"></a>适配优化</h3><ul><li>自适应屏幕，使用 <code>dp</code> 替代 <code>px</code></li><li>使用 <code>android:layout_weight</code> 或者 <code>TableLayout</code>、<code>GridLayout</code>制作等分布局</li></ul><h3 id="布局优化"><a href="#布局优化" class="headerlink" title="布局优化"></a>布局优化</h3><ul><li><code>layout</code> 组件化，尽量使用 <code>merge</code> 及 <code>include</code> 复用</li><li>复杂布局使用 <code>RelativeLayout</code></li><li>不要使用层次过深的 <code>ViewGroups</code> 继承</li><li>使用 <a href="http://tools.android.com/tech-docs/layout-editor" target="_blank" rel="external">ConstraintsLayout</a> 来扁平化视图层次</li></ul><h3 id="ListView-性能优化"><a href="#ListView-性能优化" class="headerlink" title="ListView 性能优化"></a>ListView 性能优化</h3><ul><li>复用 <code>convertView</code>：在 <code>getItemView</code> 中，判断 convertView 是否为空，如果不为空，可复用。如果 convertView 中的 view 需要添加 listerner，代码一定要在 <code>if(convertView == null){}</code> 之外。</li><li>异步加载图片 item 中如果包含有 <code>webimage</code> ，那么最好异步加载</li><li>快速滑动时不显示图片，当快速滑动列表时（<code>SCROLL_STATE_FLING</code>），item 中的图片或获取需要消耗资源的 view，可以不显示出来；而处于其他两种状态（<code>SCROLL_STATE_IDLE</code> 和<code>SCROLL_STATE_TOUCH_SCROLL</code>），则将那些view显示出来</li></ul><h3 id="TextView-排版"><a href="#TextView-排版" class="headerlink" title="TextView 排版"></a>TextView 排版</h3><ul><li>英文文档排版：<code>textview</code> 自动换行时要保持单词的完整性，解决方案是计算字符串长度，然后手动设定每一行显示多少个字母并加上‘n‘</li><li>数字、字母和汉字混排占位问题：将数字和字母全角化。由于现在大多数情况下我们的输入都是半角，所以 字母和数字的占位无法确定，但是一旦全角化之后，数字、字母的占位就和一个汉字的占位相同了，这样就可以避免由于占位导致的排版问题。</li></ul><h3 id="自定义View"><a href="#自定义View" class="headerlink" title="自定义View"></a>自定义View</h3><ul><li>应用开发中自定义View的时候，交互部分，千万不要写成线程不断刷新界面显示，而是根据 <code>TouchListener</code> 事件主动触发界面的更新</li></ul><h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><h2 id="开发规范"><a href="#开发规范" class="headerlink" title="开发规范"></a>开发规范</h2><ul><li><a href="https://github.com/ribot/android-guidelines" target="_blank" rel="external">ribot/android-guidelines</a></li><li><a href="https://github.com/bufferapp/android-guidelines/blob/master/project_style_guidelines.md" target="_blank" rel="external">Android Project Guidelines</a></li><li><a href="https://github.com/RxSmart/Link-Android-Guideline" target="_blank" rel="external">RxSmart/Link-Android-Guideline</a></li><li><a href="http://www.jianshu.com/p/c43b558c72b4" target="_blank" rel="external">Android架构系列-开发规范</a></li><li><a href="http://keeganlee.me/post/android/20150709" target="_blank" rel="external">Android技术积累: 开发规范</a></li><li><a href="http://www.jianshu.com/p/fbf9ea4b9d76#rd" target="_blank" rel="external">Android进阶之路——安卓编程规范</a></li><li><a href="http://www.jianshu.com/p/0a984f999592" target="_blank" rel="external">Android 编码规范（比较全）</a></li><li><a href="http://www.jianshu.com/p/99239b9c1630" target="_blank" rel="external">Android开发架构规范</a></li><li><a href="https://zhuanlan.zhihu.com/p/21258353?refer=kotandroid" target="_blank" rel="external">数库科技 Android 开发准则</a></li><li><a href="http://www.jianshu.com/p/9b8aeca9b281" target="_blank" rel="external">[干货] Android编程开发规范</a></li><li><a href="http://blog.csdn.net/vipzjyno1/article/details/23542617" target="_blank" rel="external">Android 命名规范 （提高代码可以读性）</a></li></ul><h2 id="最佳实践-1"><a href="#最佳实践-1" class="headerlink" title="最佳实践"></a>最佳实践</h2><ul><li><a href="https://github.com/futurice/android-best-practices" target="_blank" rel="external">futurice/android-best-practices</a></li><li><a href="https://segmentfault.com/a/1190000005752066" target="_blank" rel="external">2016里一些Android最佳实践列表——Opinionated</a></li><li><a href="https://github.com/GeniusVJR/Good-Android-development-habits" target="_blank" rel="external">好的Android开发习惯</a></li></ul></div><div></div><div><div style="padding:10px 0;margin:20px auto;width:90%;text-align:center"><div>坚持原创技术分享，您的支持将鼓励我继续创作！</div><button id="rewardButton" disable="enable" onclick='var e=document.getElementById("QR");"none"===e.style.display?e.style.display="block":e.style.display="none"'><span>赏</span></button><div id="QR" style="display:none"><div id="wechat" style="display:inline-block"><img id="wechat_qr" src="http://ogl5vjc1c.bkt.clouddn.com/image/pay/wechat_pay.png" alt="鼎甲微联 WeChat Pay"><p>微信打赏</p></div></div></div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/Android/" rel="tag"># Android</a> <a href="/tags/Coding-Rule/" rel="tag"># Coding Rule</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2016/12/05/java-rule-coding-style/" rel="next" title="Java 编码规范"><i class="fa fa-chevron-left"></i> Java 编码规范</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/2016/12/06/android-studio-plugins-tips/" rel="prev" title="Android Studio 插件、小技巧与注意事项">Android Studio 插件、小技巧与注意事项 <i class="fa fa-chevron-right"></i></a></div></div></footer></article><div class="post-spread"><div class="ds-share flat" data-thread-key="2016/12/05/android-rule-coding-style/" data-title="Anrdoid 编码规范" data-content="" data-url="https://djlinkiot.github.io/2016/12/05/android-rule-coding-style/"><div class="ds-share-inline"><ul class="ds-share-icons-16"><li data-toggle="ds-share-icons-more"><a class="ds-more" href="javascript:void(0);">分享到：</a></li><li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo">微博</a></li><li><a class="ds-qzone" href="javascript:void(0);" data-service="qzone">QQ空间</a></li><li><a class="ds-qqt" href="javascript:void(0);" data-service="qqt">腾讯微博</a></li><li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat">微信</a></li></ul><div class="ds-share-icons-more"></div></div></div></div></div></div><p>热评文章</p><div class="ds-top-threads" data-range="weekly" data-num-items="4"></div><div class="comments" id="comments"><div class="ds-thread" data-thread-key="2016/12/05/android-rule-coding-style/" data-title="Anrdoid 编码规范" data-url="https://djlinkiot.github.io/2016/12/05/android-rule-coding-style/"></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">文章目录</li><li class="sidebar-nav-overview" data-target="site-overview">站点概览</li></ul><section class="site-overview sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="http://ogl5vjc1c.bkt.clouddn.com/image/logo/djlink.png" alt="鼎甲微联"><p class="site-author-name" itemprop="name">鼎甲微联</p><p class="site-description motion-element" itemprop="description">国内领先的物联网方案提供商</p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives"><span class="site-state-item-count">25</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories"><span class="site-state-item-count">22</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags"><span class="site-state-item-count">47</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/DjLinkIOT" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i> GitHub</a></span></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#命名规范"><span class="nav-number">1.</span> <span class="nav-text">命名规范</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#通用规则"><span class="nav-number">1.1.</span> <span class="nav-text">通用规则</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Java"><span class="nav-number">1.2.</span> <span class="nav-text">Java</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#包名"><span class="nav-number">1.2.1.</span> <span class="nav-text">包名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#类名"><span class="nav-number">1.2.2.</span> <span class="nav-text">类名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#方法"><span class="nav-number">1.2.3.</span> <span class="nav-text">方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#局部变量"><span class="nav-number">1.2.4.</span> <span class="nav-text">局部变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#字符串常量"><span class="nav-number">1.2.5.</span> <span class="nav-text">字符串常量</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JNI"><span class="nav-number">1.3.</span> <span class="nav-text">JNI</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Resource-资源"><span class="nav-number">1.4.</span> <span class="nav-text">Resource 资源</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#概述"><span class="nav-number">1.4.1.</span> <span class="nav-text">概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#资源文件"><span class="nav-number">1.4.2.</span> <span class="nav-text">资源文件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Anim-Animator-动画文件"><span class="nav-number">1.4.2.1.</span> <span class="nav-text">Anim/Animator 动画文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Drawable-图片文件"><span class="nav-number">1.4.2.2.</span> <span class="nav-text">Drawable 图片文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Color-颜色文件"><span class="nav-number">1.4.2.3.</span> <span class="nav-text">Color 颜色文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Layout-布局文件"><span class="nav-number">1.4.2.4.</span> <span class="nav-text">Layout 布局文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Style、Theme-文件"><span class="nav-number">1.4.2.5.</span> <span class="nav-text">Style、Theme 文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Attr-文件"><span class="nav-number">1.4.2.6.</span> <span class="nav-text">Attr 文件</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#资源元素"><span class="nav-number">1.4.3.</span> <span class="nav-text">资源元素</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#id-布局中ID"><span class="nav-number">1.4.3.1.</span> <span class="nav-text">id 布局中ID</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#color-色值"><span class="nav-number">1.4.3.2.</span> <span class="nav-text">color 色值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#dimen-尺寸"><span class="nav-number">1.4.3.3.</span> <span class="nav-text">dimen 尺寸</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#style-样式"><span class="nav-number">1.4.3.4.</span> <span class="nav-text">style 样式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#string-文字"><span class="nav-number">1.4.3.5.</span> <span class="nav-text">string 文字</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#最佳实践"><span class="nav-number">2.</span> <span class="nav-text">最佳实践</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#编码相关"><span class="nav-number">2.1.</span> <span class="nav-text">编码相关</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#常规"><span class="nav-number">2.1.1.</span> <span class="nav-text">常规</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#方法函数中的参数排序规范"><span class="nav-number">2.1.1.1.</span> <span class="nav-text">方法函数中的参数排序规范</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Activity-Fragment-相关"><span class="nav-number">2.1.2.</span> <span class="nav-text">Activity Fragment 相关</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#BaseActivity-BaseFragment"><span class="nav-number">2.1.2.1.</span> <span class="nav-text">BaseActivity BaseFragment</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#生命周期排序"><span class="nav-number">2.1.2.2.</span> <span class="nav-text">生命周期排序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Activity-和-Fragment-打开方式"><span class="nav-number">2.1.2.3.</span> <span class="nav-text">Activity 和 Fragment 打开方式</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Log"><span class="nav-number">2.1.3.</span> <span class="nav-text">Log</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Log-输出规范"><span class="nav-number">2.1.3.1.</span> <span class="nav-text">Log 输出规范</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#数据库"><span class="nav-number">2.1.4.</span> <span class="nav-text">数据库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#其他"><span class="nav-number">2.1.5.</span> <span class="nav-text">其他</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#权限相关"><span class="nav-number">2.1.6.</span> <span class="nav-text">权限相关</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Resource"><span class="nav-number">2.2.</span> <span class="nav-text">Resource</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#XML属性排序"><span class="nav-number">2.2.1.</span> <span class="nav-text">XML属性排序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Drawable"><span class="nav-number">2.2.2.</span> <span class="nav-text">Drawable</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Dimen"><span class="nav-number">2.2.3.</span> <span class="nav-text">Dimen</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Anim"><span class="nav-number">2.2.4.</span> <span class="nav-text">Anim</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Color"><span class="nav-number">2.2.5.</span> <span class="nav-text">Color</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#String"><span class="nav-number">2.2.6.</span> <span class="nav-text">String</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Style"><span class="nav-number">2.2.7.</span> <span class="nav-text">Style</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Layout"><span class="nav-number">2.2.8.</span> <span class="nav-text">Layout</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Designtime-Attributes（tools-标签）"><span class="nav-number">2.2.9.</span> <span class="nav-text">Designtime Attributes（tools 标签）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#开发、构建与测试"><span class="nav-number">2.3.</span> <span class="nav-text">开发、构建与测试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Build"><span class="nav-number">2.3.1.</span> <span class="nav-text">Build</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Debug"><span class="nav-number">2.3.2.</span> <span class="nav-text">Debug</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Gradle"><span class="nav-number">2.3.3.</span> <span class="nav-text">Gradle</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Check"><span class="nav-number">2.3.4.</span> <span class="nav-text">Check</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Log-日志"><span class="nav-number">2.3.5.</span> <span class="nav-text">Log 日志</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#组件化"><span class="nav-number">2.4.</span> <span class="nav-text">组件化</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#第三方库"><span class="nav-number">2.4.1.</span> <span class="nav-text">第三方库</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#性能优化"><span class="nav-number">2.5.</span> <span class="nav-text">性能优化</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#内存优化"><span class="nav-number">2.5.1.</span> <span class="nav-text">内存优化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#图片优化"><span class="nav-number">2.5.2.</span> <span class="nav-text">图片优化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#网络优化"><span class="nav-number">2.5.3.</span> <span class="nav-text">网络优化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#异步优化"><span class="nav-number">2.5.4.</span> <span class="nav-text">异步优化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#电量优化"><span class="nav-number">2.5.5.</span> <span class="nav-text">电量优化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#序列化"><span class="nav-number">2.5.6.</span> <span class="nav-text">序列化</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UI优化"><span class="nav-number">2.6.</span> <span class="nav-text">UI优化</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#适配优化"><span class="nav-number">2.6.1.</span> <span class="nav-text">适配优化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#布局优化"><span class="nav-number">2.6.2.</span> <span class="nav-text">布局优化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ListView-性能优化"><span class="nav-number">2.6.3.</span> <span class="nav-text">ListView 性能优化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TextView-排版"><span class="nav-number">2.6.4.</span> <span class="nav-text">TextView 排版</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#自定义View"><span class="nav-number">2.6.5.</span> <span class="nav-text">自定义View</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#参考"><span class="nav-number">3.</span> <span class="nav-text">参考</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#开发规范"><span class="nav-number">3.1.</span> <span class="nav-text">开发规范</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#最佳实践-1"><span class="nav-number">3.2.</span> <span class="nav-text">最佳实践</span></a></li></ol></li></ol></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2016</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">鼎甲微联</span></div><div class="powered-by">由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动</div><div class="theme-info">主题 - <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script><script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script><script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script><script type="text/javascript">var duoshuoQuery={short_name:"djlinkblog"};!function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.id="duoshuo-script",t.src=("https:"==document.location.protocol?"https:":"http:")+"//static.duoshuo.com/embed.js",t.charset="UTF-8",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)}()</script><script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script><script src="/js/src/hook-duoshuo.js"></script><script type="text/javascript">function proceedsearch(){$("body").append('<div class="popoverlay">').css("overflow","hidden"),$(".popup").toggle()}var isfetched=!1,search_path="search.xml";0==search_path.length&&(search_path="search.xml");var path="/"+search_path,searchFunc=function(e,t,a){"use strict";$.ajax({url:e,dataType:"xml",async:!0,success:function(e){isfetched=!0,$(".popup").detach().appendTo(".header-inner");var r=$("entry",e).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get(),c=document.getElementById(t),n=document.getElementById(a);c.addEventListener("input",function(){var e=0,t='<ul class="search-result-list">',a=this.value.trim().toLowerCase().split(/[\s\-]+/);n.innerHTML="",this.value.trim().length>1&&r.forEach(function(r){var c=!1,n=r.title.trim().toLowerCase(),s=r.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),o=decodeURIComponent(r.url),i=-1,l=-1,p=-1;if(""!=n&&a.forEach(function(e,t){i=n.indexOf(e),l=s.indexOf(e),(i>=0||l>=0)&&(c=!0,0==t&&(p=l))}),c){e+=1,t+="<li><a href='"+o+"' class='search-result-title'>"+n+"</a>";var h=r.content.trim().replace(/<[^>]+>/g,"");if(p>=0){var u=p-20,d=p+80;u<0&&(u=0),0==u&&(d=50),d>h.length&&(d=h.length);var f=h.substring(u,d);a.forEach(function(e){var t=new RegExp(e,"gi");f=f.replace(t,'<b class="search-keyword">'+e+"</b>")}),t+='<p class="search-result">'+f+"...</p>"}t+="</li>"}}),t+="</ul>",0==e&&(t='<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'),""==a&&(t='<div id="no-result"><i class="fa fa-search fa-5x" /></div>'),n.innerHTML=t}),proceedsearch()}})};$(".popup-trigger").click(function(e){e.stopPropagation(),0==isfetched?searchFunc(path,"local-search-input","local-search-result"):proceedsearch()}),$(".popup-btn-close").click(function(e){$(".popup").hide(),$(".popoverlay").remove(),$("body").css("overflow","")}),$(".popup").click(function(e){e.stopPropagation()})</script><script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script><script>AV.initialize("1w5lhUG3Ii094EyKbLFod3LT-gzGzoHsz","uGHYmrGO61mfNrSSh5gyLXWI")</script><script>function showTime(e){var t=new AV.Query(e),n=[],o=$(".leancloud_visitors");o.each(function(){n.push($(this).attr("id").trim())}),t.containedIn("url",n),t.find().done(function(e){var t=".leancloud-visitors-count";if(0===e.length)return void o.find(t).text(0);for(var i=0;i<e.length;i++){var r=e[i],s=r.get("url"),l=r.get("time"),c=document.getElementById(s);$(c).find(t).text(l)}for(var i=0;i<n.length;i++){var s=n[i],c=document.getElementById(s),u=$(c).find(t);""==u.text()&&u.text(0)}}).fail(function(e,t){console.log("Error: "+t.code+" "+t.message)})}function addCount(e){var t=$(".leancloud_visitors"),n=t.attr("id").trim(),o=t.attr("data-flag-title").trim(),i=new AV.Query(e);i.equalTo("url",n),i.find({success:function(t){if(t.length>0){var i=t[0];i.fetchWhenSave(!0),i.increment("time"),i.save(null,{success:function(e){var t=$(document.getElementById(n));t.find(".leancloud-visitors-count").text(e.get("time"))},error:function(e,t){console.log("Failed to save Visitor num, with error message: "+t.message)}})}else{var r=new e,s=new AV.ACL;s.setPublicReadAccess(!0),s.setPublicWriteAccess(!0),r.setACL(s),r.set("title",o),r.set("url",n),r.set("time",1),r.save(null,{success:function(e){var t=$(document.getElementById(n));t.find(".leancloud-visitors-count").text(e.get("time"))},error:function(e,t){console.log("Failed to create")}})}},error:function(e){console.log("Error:"+e.code+" "+e.message)}})}$(function(){var e=AV.Object.extend("Counter");1==$(".leancloud_visitors").length?addCount(e):$(".post-title-link").length>1&&showTime(e)})</script><script>!function(){var t=document.createElement("script"),s=window.location.protocol.split(":")[0];"https"===s?t.src="https://zz.bdstatic.com/linksubmit/push.js":t.src="http://push.zhanzhang.baidu.com/push.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()</script></body></html>